// This file is autogenerated by shader_to_inc.sh.
#ifndef fft_radix16_inc__
#define fft_radix16_inc__
namespace GLFFT { namespace Blob {
static const char fft_radix16_source[] = 
R"DELIM(/* Copyright (C) 2015 Hans-Kristian Arntzen <maister@archlinux.us>)DELIM" "\n"
R"DELIM(*)DELIM" "\n"
R"DELIM(* Permission is hereby granted, free of charge,)DELIM" "\n"
R"DELIM(* to any person obtaining a copy of this software and associated documentation files (the "Software"),)DELIM" "\n"
R"DELIM(* to deal in the Software without restriction, including without limitation the rights to)DELIM" "\n"
R"DELIM(* use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,)DELIM" "\n"
R"DELIM(* and to permit persons to whom the Software is furnished to do so, subject to the following conditions:)DELIM" "\n"
R"DELIM(*)DELIM" "\n"
R"DELIM(* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.)DELIM" "\n"
R"DELIM(*)DELIM" "\n"
R"DELIM(* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,)DELIM" "\n"
R"DELIM(* INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,)DELIM" "\n"
R"DELIM(* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.)DELIM" "\n"
R"DELIM(* IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,)DELIM" "\n"
R"DELIM(* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,)DELIM" "\n"
R"DELIM(* OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.)DELIM" "\n"
R"DELIM(*/)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(// Radix 16 FFT is implemented by doing separate radix-4 FFTs in four threads, then the results are shared via shared memory,)DELIM" "\n"
R"DELIM(// and the final radix-16 is completed by doing radix-4 FFT again.)DELIM" "\n"
R"DELIM(// Radix-16 FFT can be implemented directly without shared memory,)DELIM" "\n"
R"DELIM(// but the register pressure would likely degrade performance significantly over just using shared.)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(// The radix-16 FFT would normally looks like this:)DELIM" "\n"
R"DELIM(// cfloat a[i] = load_global(.... + i * quarter_samples);)DELIM" "\n"
R"DELIM(// However, we interleave these into 4 separate threads (using LocalInvocationID.z) so that every thread)DELIM" "\n"
R"DELIM(// gets its own FFT-4 transform.)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(// Z == 0, (0, 4,  8, 12))DELIM" "\n"
R"DELIM(// Z == 1, (1, 5,  9, 13))DELIM" "\n"
R"DELIM(// Z == 2, (2, 6, 10, 14))DELIM" "\n"
R"DELIM(// Z == 3, (3, 7, 11, 15))DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(// The FFT results are written in stockham autosort fashion to shared memory.)DELIM" "\n"
R"DELIM(// The final FFT-4 transform is then read from shared memory with the same interleaving pattern used above.)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(void FFT16_p1_horiz(uvec2 i))DELIM" "\n"
R"DELIM({)DELIM" "\n"
R"DELIM(uint quarter_samples = gl_NumWorkGroups.x * gl_WorkGroupSize.x;)DELIM" "\n"
R"DELIM(uint offset = i.y * quarter_samples * 16u;)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(uint fft = gl_LocalInvocationID.x;)DELIM" "\n"
R"DELIM(uint block = gl_LocalInvocationID.z;)DELIM" "\n"
R"DELIM(uint base = get_shared_base(fft);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(#ifdef FFT_INPUT_TEXTURE)DELIM" "\n"
R"DELIM(cfloat a = load_texture(i + uvec2((block +  0u) * quarter_samples, 0u));)DELIM" "\n"
R"DELIM(cfloat b = load_texture(i + uvec2((block +  4u) * quarter_samples, 0u));)DELIM" "\n"
R"DELIM(cfloat c = load_texture(i + uvec2((block +  8u) * quarter_samples, 0u));)DELIM" "\n"
R"DELIM(cfloat d = load_texture(i + uvec2((block + 12u) * quarter_samples, 0u));)DELIM" "\n"
R"DELIM(#else)DELIM" "\n"
R"DELIM(cfloat a = load_global(offset + i.x + (block +  0u) * quarter_samples);)DELIM" "\n"
R"DELIM(cfloat b = load_global(offset + i.x + (block +  4u) * quarter_samples);)DELIM" "\n"
R"DELIM(cfloat c = load_global(offset + i.x + (block +  8u) * quarter_samples);)DELIM" "\n"
R"DELIM(cfloat d = load_global(offset + i.x + (block + 12u) * quarter_samples);)DELIM" "\n"
R"DELIM(#endif)DELIM" "\n"
R"DELIM(FFT4_p1(a, b, c, d);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(store_shared(a, b, c, d, block, base);)DELIM" "\n"
R"DELIM(load_shared(a, b, c, d, block, base);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(const uint p = 4u;)DELIM" "\n"
R"DELIM(FFT4(a, b, c, d, FFT_OUTPUT_STEP * block, p);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(uint k = (FFT_OUTPUT_STEP * block) & (p - 1u);)DELIM" "\n"
R"DELIM(uint j = ((FFT_OUTPUT_STEP * block - k) * 4u) + k;)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(#ifndef FFT_OUTPUT_IMAGE)DELIM" "\n"
R"DELIM(store_global(offset + 16u * i.x + ((j + 0u * p) >> FFT_OUTPUT_SHIFT), a);)DELIM" "\n"
R"DELIM(store_global(offset + 16u * i.x + ((j + 1u * p) >> FFT_OUTPUT_SHIFT), c);)DELIM" "\n"
R"DELIM(store_global(offset + 16u * i.x + ((j + 2u * p) >> FFT_OUTPUT_SHIFT), b);)DELIM" "\n"
R"DELIM(store_global(offset + 16u * i.x + ((j + 3u * p) >> FFT_OUTPUT_SHIFT), d);)DELIM" "\n"
R"DELIM(#endif)DELIM" "\n"
R"DELIM(})DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(void FFT16_horiz(uvec2 i, uint p))DELIM" "\n"
R"DELIM({)DELIM" "\n"
R"DELIM(uint quarter_samples = gl_NumWorkGroups.x * gl_WorkGroupSize.x;)DELIM" "\n"
R"DELIM(uint offset = i.y * quarter_samples * 16u;)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(uint fft = gl_LocalInvocationID.x;)DELIM" "\n"
R"DELIM(uint block = gl_LocalInvocationID.z;)DELIM" "\n"
R"DELIM(uint base = get_shared_base(fft);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(cfloat a = load_global(offset + i.x + (block +  0u) * quarter_samples);)DELIM" "\n"
R"DELIM(cfloat b = load_global(offset + i.x + (block +  4u) * quarter_samples);)DELIM" "\n"
R"DELIM(cfloat c = load_global(offset + i.x + (block +  8u) * quarter_samples);)DELIM" "\n"
R"DELIM(cfloat d = load_global(offset + i.x + (block + 12u) * quarter_samples);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(FFT4(a, b, c, d, FFT_OUTPUT_STEP * i.x, p);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(store_shared(a, b, c, d, block, base);)DELIM" "\n"
R"DELIM(load_shared(a, b, c, d, block, base);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(uint k = (FFT_OUTPUT_STEP * i.x) & (p - 1u);)DELIM" "\n"
R"DELIM(uint j = ((FFT_OUTPUT_STEP * i.x - k) * 16u) + k;)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(FFT4(a, b, c, d, k + block * p, 4u * p);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(#ifdef FFT_OUTPUT_IMAGE)DELIM" "\n"
R"DELIM(store(ivec2(j + (block +  0u) * p, i.y), a);)DELIM" "\n"
R"DELIM(store(ivec2(j + (block +  4u) * p, i.y), c);)DELIM" "\n"
R"DELIM(store(ivec2(j + (block +  8u) * p, i.y), b);)DELIM" "\n"
R"DELIM(store(ivec2(j + (block + 12u) * p, i.y), d);)DELIM" "\n"
R"DELIM(#else)DELIM" "\n"
R"DELIM(store_global(offset + ((j + (block +  0u) * p) >> FFT_OUTPUT_SHIFT), a);)DELIM" "\n"
R"DELIM(store_global(offset + ((j + (block +  4u) * p) >> FFT_OUTPUT_SHIFT), c);)DELIM" "\n"
R"DELIM(store_global(offset + ((j + (block +  8u) * p) >> FFT_OUTPUT_SHIFT), b);)DELIM" "\n"
R"DELIM(store_global(offset + ((j + (block + 12u) * p) >> FFT_OUTPUT_SHIFT), d);)DELIM" "\n"
R"DELIM(#endif)DELIM" "\n"
R"DELIM(})DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(void FFT16_p1_vert(uvec2 i))DELIM" "\n"
R"DELIM({)DELIM" "\n"
R"DELIM(uvec2 quarter_samples = gl_NumWorkGroups.xy * gl_WorkGroupSize.xy;)DELIM" "\n"
R"DELIM(uint stride = uStride;)DELIM" "\n"
R"DELIM(uint y_stride = stride * quarter_samples.y;)DELIM" "\n"
R"DELIM(uint offset = stride * i.y;)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(uint fft = gl_LocalInvocationID.x;)DELIM" "\n"
R"DELIM(uint block = gl_LocalInvocationID.z;)DELIM" "\n"
R"DELIM(uint base = get_shared_base(fft);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(#ifdef FFT_INPUT_TEXTURE)DELIM" "\n"
R"DELIM(cfloat a = load_texture(i + uvec2(0u, (block +  0u) * quarter_samples.y));)DELIM" "\n"
R"DELIM(cfloat b = load_texture(i + uvec2(0u, (block +  4u) * quarter_samples.y));)DELIM" "\n"
R"DELIM(cfloat c = load_texture(i + uvec2(0u, (block +  8u) * quarter_samples.y));)DELIM" "\n"
R"DELIM(cfloat d = load_texture(i + uvec2(0u, (block + 12u) * quarter_samples.y));)DELIM" "\n"
R"DELIM(#else)DELIM" "\n"
R"DELIM(cfloat a = load_global(offset + i.x + (block +  0u) * y_stride);)DELIM" "\n"
R"DELIM(cfloat b = load_global(offset + i.x + (block +  4u) * y_stride);)DELIM" "\n"
R"DELIM(cfloat c = load_global(offset + i.x + (block +  8u) * y_stride);)DELIM" "\n"
R"DELIM(cfloat d = load_global(offset + i.x + (block + 12u) * y_stride);)DELIM" "\n"
R"DELIM(#endif)DELIM" "\n"
R"DELIM(FFT4_p1(a, b, c, d);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(store_shared(a, b, c, d, block, base);)DELIM" "\n"
R"DELIM(load_shared(a, b, c, d, block, base);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(const uint p = 4u;)DELIM" "\n"
R"DELIM(FFT4(a, b, c, d, block, p);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(#ifndef FFT_OUTPUT_IMAGE)DELIM" "\n"
R"DELIM(store_global((16u * i.y + block +  0u) * stride + i.x, a);)DELIM" "\n"
R"DELIM(store_global((16u * i.y + block +  4u) * stride + i.x, c);)DELIM" "\n"
R"DELIM(store_global((16u * i.y + block +  8u) * stride + i.x, b);)DELIM" "\n"
R"DELIM(store_global((16u * i.y + block + 12u) * stride + i.x, d);)DELIM" "\n"
R"DELIM(#endif)DELIM" "\n"
R"DELIM(})DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(void FFT16_vert(uvec2 i, uint p))DELIM" "\n"
R"DELIM({)DELIM" "\n"
R"DELIM(uvec2 quarter_samples = gl_NumWorkGroups.xy * gl_WorkGroupSize.xy;)DELIM" "\n"
R"DELIM(uint stride = uStride;)DELIM" "\n"
R"DELIM(uint y_stride = stride * quarter_samples.y;)DELIM" "\n"
R"DELIM(uint offset = stride * i.y;)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(uint fft = gl_LocalInvocationID.x;)DELIM" "\n"
R"DELIM(uint block = gl_LocalInvocationID.z;)DELIM" "\n"
R"DELIM(uint base = get_shared_base(fft);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(cfloat a = load_global(offset + i.x + (block +  0u) * y_stride);)DELIM" "\n"
R"DELIM(cfloat b = load_global(offset + i.x + (block +  4u) * y_stride);)DELIM" "\n"
R"DELIM(cfloat c = load_global(offset + i.x + (block +  8u) * y_stride);)DELIM" "\n"
R"DELIM(cfloat d = load_global(offset + i.x + (block + 12u) * y_stride);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(FFT4(a, b, c, d, i.y, p);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(store_shared(a, b, c, d, block, base);)DELIM" "\n"
R"DELIM(load_shared(a, b, c, d, block, base);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(uint k = i.y & (p - 1u);)DELIM" "\n"
R"DELIM(uint j = ((i.y - k) * 16u) + k;)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(FFT4(a, b, c, d, k + block * p, 4u * p);)DELIM" "\n"
R"DELIM()DELIM" "\n"
R"DELIM(#ifdef FFT_OUTPUT_IMAGE)DELIM" "\n"
R"DELIM(store(ivec2(i.x, j + (block +  0u) * p), a);)DELIM" "\n"
R"DELIM(store(ivec2(i.x, j + (block +  4u) * p), c);)DELIM" "\n"
R"DELIM(store(ivec2(i.x, j + (block +  8u) * p), b);)DELIM" "\n"
R"DELIM(store(ivec2(i.x, j + (block + 12u) * p), d);)DELIM" "\n"
R"DELIM(#else)DELIM" "\n"
R"DELIM(store_global(stride * (j + (block +  0u) * p) + i.x, a);)DELIM" "\n"
R"DELIM(store_global(stride * (j + (block +  4u) * p) + i.x, c);)DELIM" "\n"
R"DELIM(store_global(stride * (j + (block +  8u) * p) + i.x, b);)DELIM" "\n"
R"DELIM(store_global(stride * (j + (block + 12u) * p) + i.x, d);)DELIM" "\n"
R"DELIM(#endif)DELIM" "\n"
R"DELIM(})DELIM" "\n"
R"DELIM()DELIM" "\n"
;
}}
#endif
